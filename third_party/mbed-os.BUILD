package(default_visibility = ["//visibility:public"])

copts = [
    "-Wno-missing-field-initializers",
    "-fmessage-length=0",
    "-fno-exceptions",
    "-fno-builtin",
    "-funsigned-char",
    "-fno-delete-null-pointer-checks",
    "-mcpu=cortex-m0",
    "-mthumb",
]

defines = [
    "DEVICE_ERROR_PATTERN=1",
    "NRF51",
    "__MBED__=1",
    "TARGET_LIKE_MBED",
    "TARGET_NRF51822",
    "DEVICE_PORTINOUT=1",
    "__MBED_CMSIS_RTOS_CM",
    "DEVICE_LOWPOWERTIMER=1",
    "DEVICE_RTC=1",
    "TOOLCHAIN_object",
    "DEVICE_SERIAL_ASYNCH=1",
    "__CMSIS_RTOS",
    "TARGET_MCU_NRF51822_UNIFIED",
    "TOOLCHAIN_GCC",
    "DEVICE_I2C_ASYNCH=1",
    "TARGET_CORTEX_M",
    "ARM_MATH_CM0",
    "TARGET_UVISOR_UNSUPPORTED",
    "TARGET_NRF5",
    "FEATURE_BLE=1",
    "TARGET_M0",
    "MBED_BUILD_TIMESTAMP=1490770405.3",
    "TARGET_MCU_NRF51_UNIFIED",
    "DEVICE_INTERRUPTIN=1",
    "__CORTEX_M0",
    "DEVICE_I2C=1",
    "DEVICE_PORTOUT=1",
    "TARGET_MCU_NRF51",
    "DEVICE_SERIAL=1",
    "DEVICE_SPI_ASYNCH=1",
    "TARGET_FF_ARDUINO",
    "DEVICE_PORTIN=1",
    "TARGET_RELEASE",
    "TARGET_NORDIC",
    "DEVICE_SERIAL_FC=1",
    "BLE_STACK_SUPPORT_REQD",
    "TARGET_MCU_NRF51_32K_UNIFIED",
    "TARGET_NRF51_DK",
    "DEVICE_SLEEP=1",
    "TOOLCHAIN_GCC_ARM",
    "TARGET_MCU_NRF51822",
    "TARGET_MCU_NORDIC_32K",
    "SOFTDEVICE_PRESENT",
    "DEVICE_SPI=1",
    "DEVICE_SPISLAVE=1",
    "DEVICE_ANALOGIN=1",
    "DEVICE_PWMOUT=1",
    "S130",
    "TARGET_LIKE_CORTEX_M0",
    "TARGET_MCU_NRF51_32K",
    "MBED_CONF_NORDIC_NRF_LF_CLOCK_SRC=NRF_LF_SRC_XTAL",
    "MBED_CONF_NSAPI_PRESENT=1",
    "MBED_CONF_FILESYSTEM_PRESENT=1",
    "MBED_CONF_PLATFORM_STDIO_CONVERT_NEWLINES=0",
    "MBED_CONF_PLATFORM_STDIO_BAUD_RATE=9600",
    "MBED_CONF_EVENTS_PRESENT=1",
    "MBED_CONF_RTOS_PRESENT=1",
    "MBED_CONF_NORDIC_UART_HWFC=1",
    "MBED_CONF_PLATFORM_DEFAULT_SERIAL_BAUD_RATE=9600",
    "MBED_CONF_PLATFORM_STDIO_FLUSH_AT_EXIT=1",
    "UNITY_INCLUDE_CONFIG_H",
]

includes = [
    "cmsis",
    "cmsis/TOOLCHAIN_GCC",
    "drivers",
    "events",
    "events/equeue",
    "features",
    "features/FEATURE_BLE",
    "features/FEATURE_BLE/ble",
    "features/FEATURE_BLE/ble/services",
    "features/FEATURE_BLE/source",
    "features/FEATURE_BLE/source/services",
    "features/FEATURE_BLE/targets",
    "features/FEATURE_BLE/targets/TARGET_NORDIC",
    "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5",
    "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source",
    "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle",
    "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/custom",
    "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/common",
    "features/filesystem",
    "features/filesystem/bd",
    "features/filesystem/fat",
    "features/filesystem/fat/ChaN",
    "features/frameworks",
    "features/frameworks/greentea-client",
    "features/frameworks/greentea-client/greentea-client",
    "features/frameworks/greentea-client/source",
    "features/frameworks/unity",
    "features/frameworks/unity/source",
    "features/frameworks/unity/unity",
    "features/frameworks/utest",
    "features/frameworks/utest/source",
    "features/frameworks/utest/utest",
    "features/mbedtls",
    "features/mbedtls/importer",
    "features/mbedtls/inc",
    "features/mbedtls/inc/mbedtls",
    "features/mbedtls/platform",
    "features/mbedtls/platform/inc",
    "features/mbedtls/platform/src",
    "features/mbedtls/src",
    "features/nanostack",
    "features/netsocket",
    "features/storage",
    "hal",
    "hal/storage_abstraction",
    "platform",
    "rtos",
    "rtos/rtx",
    "rtos/rtx/TARGET_CORTEX_M",
    "rtos/rtx/TARGET_CORTEX_M/TARGET_M0",
    "rtos/rtx/TARGET_CORTEX_M/TARGET_M0/TOOLCHAIN_GCC",
    "targets",
    "targets/TARGET_NORDIC",
    "targets/TARGET_NORDIC/TARGET_NRF5",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/TARGET_NRF51_DK",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device/TOOLCHAIN_GCC_ARM",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device/TOOLCHAIN_GCC_ARM/TARGET_MCU_NORDIC_32K",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/drivers_nrf",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/drivers_nrf/adc",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/softdevice",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/softdevice/s130",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/softdevice/s130/headers",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/softdevice/s130/headers/nrf51",
    "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/softdevice/s130/hex",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_advertising",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_db_discovery",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_debug_assert_handler",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_dtm",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_error_log",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_racp",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_radio_notification",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_services",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_services/ble_dfu",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/common",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/device_manager",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/device_manager/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/device",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/ble_flash",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/clock",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/common",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/delay",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/gpiote",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/hal",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/ppi",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/pstorage",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/pstorage/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/spi_master",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/spi_slave",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/timer",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/bootloader_dfu",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/bootloader_dfu/hci_transport",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/crc16",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/experimental_section_vars",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fds",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fds/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fstorage",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fstorage/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/hci",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/hci/config",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/pwm",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/scheduler",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/trace",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/softdevice",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/softdevice/common",
    "targets/TARGET_NORDIC/TARGET_NRF5/sdk/softdevice/common/softdevice_handler",
    "features/unsupported/tests/mbed",
    "features/unsupported/tests/mbed/env",
]

cc_library(
    name = "mbed",
    srcs = [
        "drivers/AnalogIn.cpp",
        "drivers/BusIn.cpp",
        "drivers/BusInOut.cpp",
        "drivers/BusOut.cpp",
        "drivers/CAN.cpp",
        "drivers/Ethernet.cpp",
        "drivers/FileBase.cpp",
        "drivers/FilePath.cpp",
        "drivers/FileSystemLike.cpp",
        "drivers/FlashIAP.cpp",
        "drivers/I2C.cpp",
        "drivers/I2CSlave.cpp",
        "drivers/InterruptIn.cpp",
        "drivers/InterruptManager.cpp",
        "drivers/LocalFileSystem.cpp",
        "drivers/RawSerial.cpp",
        "drivers/SPI.cpp",
        "drivers/SPISlave.cpp",
        "drivers/Serial.cpp",
        "drivers/SerialBase.cpp",
        "drivers/Stream.cpp",
        "drivers/Ticker.cpp",
        "drivers/Timeout.cpp",
        "drivers/Timer.cpp",
        "drivers/TimerEvent.cpp",
        "events/EventQueue.cpp",
        "events/equeue/equeue.c",
        "events/equeue/equeue_mbed.cpp",
        "events/equeue/equeue_posix.c",
        "features/FEATURE_BLE/source/BLE.cpp",
        "features/FEATURE_BLE/source/BLEInstanceBase.cpp",
        "features/FEATURE_BLE/source/DiscoveredCharacteristic.cpp",
        "features/FEATURE_BLE/source/GapScanningParams.cpp",
        "features/FEATURE_BLE/source/services/DFUService.cpp",
        "features/FEATURE_BLE/source/services/UARTService.cpp",
        "features/FEATURE_BLE/source/services/URIBeaconConfigService.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle_advertising.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle_discovery.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle_gap.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle_security.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/btle_security_pm.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/btle/custom/custom_helper.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xCharacteristicDescriptorDiscoverer.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xDiscoveredCharacteristic.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xGap.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xGattClient.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xGattServer.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xServiceDiscovery.cpp",
        "features/FEATURE_BLE/targets/TARGET_NORDIC/TARGET_NRF5/source/nRF5xn.cpp",
        "features/filesystem/Dir.cpp",
        "features/filesystem/File.cpp",
        "features/filesystem/FileSystem.cpp",
        "features/filesystem/bd/ChainingBlockDevice.cpp",
        "features/filesystem/bd/HeapBlockDevice.cpp",
        "features/filesystem/bd/SlicingBlockDevice.cpp",
        "features/filesystem/fat/ChaN/ccsbcs.cpp",
        "features/filesystem/fat/ChaN/ff.cpp",
        "features/filesystem/fat/FATFileSystem.cpp",
        "features/frameworks/greentea-client/source/greentea_metrics.cpp",
        "features/frameworks/greentea-client/source/greentea_serial.cpp",
        "features/frameworks/greentea-client/source/greentea_test_env.cpp",
        "features/frameworks/unity/source/unity.c",
        "features/frameworks/utest/mbed-utest-shim.cpp",
        "features/frameworks/utest/source/unity_handler.cpp",
        "features/frameworks/utest/source/utest_case.cpp",
        "features/frameworks/utest/source/utest_default_handlers.cpp",
        "features/frameworks/utest/source/utest_greentea_handlers.cpp",
        "features/frameworks/utest/source/utest_harness.cpp",
        "features/frameworks/utest/source/utest_shim.cpp",
        "features/frameworks/utest/source/utest_stack_trace.cpp",
        "features/frameworks/utest/source/utest_types.cpp",
        "features/mbedtls/platform/src/mbed_trng.c",
        "features/mbedtls/src/aes.c",
        "features/mbedtls/src/aesni.c",
        "features/mbedtls/src/arc4.c",
        "features/mbedtls/src/asn1parse.c",
        "features/mbedtls/src/asn1write.c",
        "features/mbedtls/src/base64.c",
        "features/mbedtls/src/bignum.c",
        "features/mbedtls/src/blowfish.c",
        "features/mbedtls/src/camellia.c",
        "features/mbedtls/src/ccm.c",
        "features/mbedtls/src/certs.c",
        "features/mbedtls/src/cipher.c",
        "features/mbedtls/src/cipher_wrap.c",
        "features/mbedtls/src/cmac.c",
        "features/mbedtls/src/ctr_drbg.c",
        "features/mbedtls/src/debug.c",
        "features/mbedtls/src/des.c",
        "features/mbedtls/src/dhm.c",
        "features/mbedtls/src/ecdh.c",
        "features/mbedtls/src/ecdsa.c",
        "features/mbedtls/src/ecjpake.c",
        "features/mbedtls/src/ecp.c",
        "features/mbedtls/src/ecp_curves.c",
        "features/mbedtls/src/entropy.c",
        "features/mbedtls/src/entropy_poll.c",
        "features/mbedtls/src/error.c",
        "features/mbedtls/src/gcm.c",
        "features/mbedtls/src/havege.c",
        "features/mbedtls/src/hmac_drbg.c",
        "features/mbedtls/src/md.c",
        "features/mbedtls/src/md2.c",
        "features/mbedtls/src/md4.c",
        "features/mbedtls/src/md5.c",
        "features/mbedtls/src/md_wrap.c",
        "features/mbedtls/src/memory_buffer_alloc.c",
        "features/mbedtls/src/net_sockets.c",
        "features/mbedtls/src/oid.c",
        "features/mbedtls/src/padlock.c",
        "features/mbedtls/src/pem.c",
        "features/mbedtls/src/pk.c",
        "features/mbedtls/src/pk_wrap.c",
        "features/mbedtls/src/pkcs11.c",
        "features/mbedtls/src/pkcs12.c",
        "features/mbedtls/src/pkcs5.c",
        "features/mbedtls/src/pkparse.c",
        "features/mbedtls/src/pkwrite.c",
        "features/mbedtls/src/platform.c",
        "features/mbedtls/src/ripemd160.c",
        "features/mbedtls/src/rsa.c",
        "features/mbedtls/src/sha1.c",
        "features/mbedtls/src/sha256.c",
        "features/mbedtls/src/sha512.c",
        "features/mbedtls/src/ssl_cache.c",
        "features/mbedtls/src/ssl_ciphersuites.c",
        "features/mbedtls/src/ssl_cli.c",
        "features/mbedtls/src/ssl_cookie.c",
        "features/mbedtls/src/ssl_srv.c",
        "features/mbedtls/src/ssl_ticket.c",
        "features/mbedtls/src/ssl_tls.c",
        "features/mbedtls/src/threading.c",
        "features/mbedtls/src/timing.c",
        "features/mbedtls/src/version.c",
        "features/mbedtls/src/version_features.c",
        "features/mbedtls/src/x509.c",
        "features/mbedtls/src/x509_create.c",
        "features/mbedtls/src/x509_crl.c",
        "features/mbedtls/src/x509_crt.c",
        "features/mbedtls/src/x509_csr.c",
        "features/mbedtls/src/x509write_crt.c",
        "features/mbedtls/src/x509write_csr.c",
        "features/mbedtls/src/xtea.c",
        "features/netsocket/NetworkInterface.cpp",
        "features/netsocket/NetworkStack.cpp",
        "features/netsocket/Socket.cpp",
        "features/netsocket/SocketAddress.cpp",
        "features/netsocket/TCPServer.cpp",
        "features/netsocket/TCPSocket.cpp",
        "features/netsocket/UDPSocket.cpp",
        "features/netsocket/WiFiAccessPoint.cpp",
        "features/netsocket/nsapi_dns.cpp",
        "hal/mbed_gpio.c",
        "hal/mbed_lp_ticker_api.c",
        "hal/mbed_pinmap_common.c",
        "hal/mbed_ticker_api.c",
        "hal/mbed_us_ticker_api.c",
        "platform/CallChain.cpp",
        "platform/mbed_alloc_wrappers.cpp",
        "platform/mbed_application.c",
        "platform/mbed_assert.c",
        "platform/mbed_board.c",
        "platform/mbed_critical.c",
        "platform/mbed_error.c",
        "platform/mbed_interface.c",
        "platform/mbed_mem_trace.c",
        "platform/mbed_retarget.cpp",
        "platform/mbed_rtc_time.cpp",
        "platform/mbed_semihost_api.c",
        "platform/mbed_stats.c",
        "platform/mbed_wait_api_no_rtos.c",
        "platform/mbed_wait_api_rtos.cpp",
        "rtos/Mutex.cpp",
        "rtos/RtosTimer.cpp",
        "rtos/Semaphore.cpp",
        "rtos/Thread.cpp",
        "rtos/rtos_idle.c",
        "rtos/rtx/TARGET_CORTEX_M/HAL_CM.c",
        "rtos/rtx/TARGET_CORTEX_M/RTX_Conf_CM.c",
        "rtos/rtx/TARGET_CORTEX_M/TARGET_M0/TOOLCHAIN_GCC/HAL_CM0.S",
        "rtos/rtx/TARGET_CORTEX_M/TARGET_M0/TOOLCHAIN_GCC/SVC_Table.S",
        "rtos/rtx/TARGET_CORTEX_M/rt_CMSIS.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Event.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_List.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Mailbox.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_MemBox.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Memory.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Mutex.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_OsEventObserver.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Robin.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Semaphore.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_System.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Task.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Time.c",
        "rtos/rtx/TARGET_CORTEX_M/rt_Timer.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/analogin_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device/TOOLCHAIN_GCC_ARM/startup_NRF51822.S",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device/cmsis_nvic.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/device/system_nrf51.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/pwmout_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/TARGET_MCU_NRF51822_UNIFIED/sdk/drivers_nrf/adc/nrf_drv_adc.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/gpio_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/i2c_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/lp_ticker.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/nordic_critical.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/pinmap.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/port_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/reloc_vector_table.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/rtc_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_advertising/ble_advertising.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_db_discovery/ble_db_discovery.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_debug_assert_handler/ble_debug_assert_handler.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_dtm/ble_dtm.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_racp/ble_racp.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_radio_notification/ble_radio_notification.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/ble_services/ble_dfu/ble_dfu.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/common/ble_advdata.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/common/ble_conn_state.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/common/ble_srv_common.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/device_manager/device_manager_peripheral.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/gatt_cache_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/gattc_cache_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/gatts_cache_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/id_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/peer_data.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/peer_data_storage.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/peer_database.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/peer_id.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/peer_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/pm_buffer.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/pm_mutex.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/security_dispatcher.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/ble/peer_manager/security_manager.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/ble_flash/ble_flash.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/clock/nrf_drv_clock.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/common/nrf_drv_common.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/delay/nrf_delay.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/gpiote/nrf_drv_gpiote.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/hal/nrf_adc.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/hal/nrf_ecb.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/hal/nrf_nvmc.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/hal/nrf_saadc.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/ppi/nrf_drv_ppi.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/pstorage/pstorage.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/spi_master/nrf_drv_spi.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/spi_slave/nrf_drv_spis.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/drivers_nrf/timer/nrf_drv_timer.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/bootloader_dfu/bootloader_util.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/bootloader_dfu/dfu_app_handler.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/bootloader_dfu/dfu_init_template.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/crc16/crc16.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fds/fds.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fstorage/fstorage.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/fstorage/fstorage_nosd.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/hci/hci_mem_pool.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/pwm/app_pwm.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/scheduler/app_scheduler.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/trace/app_trace.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/app_error.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/app_error_weak.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/app_util_platform.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/nrf_assert.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/nrf_log.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/libraries/util/sdk_mapped_flags.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/softdevice/common/softdevice_handler/softdevice_handler.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sdk/softdevice/common/softdevice_handler/softdevice_handler_appsh.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/serial_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/sleep.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/spi_api.c",
        "targets/TARGET_NORDIC/TARGET_NRF5/us_ticker.c",
    ],
    copts = copts +
        ["-D%s" % i for i in defines] +
        ["-Iexternal/mbed/%s" % i for i in includes],
    hdrs = glob(["**/*.h"]),
)
